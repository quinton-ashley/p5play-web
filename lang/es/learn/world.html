<!DOCTYPE html>
<html lang="es" class="es">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>p5play : World</title>
	<link rel="icon" href="/assets/p5play_logo.svg">
	<link rel="stylesheet" href="/learn/style.css">
</head>

<body class="dark">
	<article style="display: none;">
		<nav id="topNav">
			<a href="index.html" class="logoLink active">
				<img alt="p5play logo" src="/assets/p5play_logo.svg" class="p5play_logo">
				<span>p5play</span>
			</a>
			<hr>
			<a href="canvas.html">Canvas</a>
			<a href="sound.html">Sound</a>
			<a href="tiles.html">Tiles</a>
			<a href="world.html" class="active">World</a>
			<hr>
			<a id="darkMode" onclick="toggleDarkMode()" tabindex="0" role="button" title="dark mode toggle">
				<div id="darkModeIcon"></div>
			</a>
		</nav>
		<div class="break"></div>

		<div id="page-0" class="page">
			<div class="minis horiz">
				<md id="md0-0">
					<h2 id="mundo">Mundo</h2>
					<p>Cada instancia de p5play tiene su propio objeto <code>world</code>, que se puede utilizar para
						controlar la simulación física.</p>
					<p>La propiedad más importante de este objeto es <code>gravity</code>, que tiene componentes x e y.
					</p>
				</md>
				<md id="md0-1">
					<h2 id="dormir">Dormir</h2>
					<p><code>world.allowSleeping</code> es verdadero por defecto.</p>
					<p>Un sprite comienza a "dormir" cuando deja de moverse y no colisiona con nada nuevo. Los sprites
						"durmiendo" son ignorados durante la simulación física, lo que generalmente evita que el motor
						de física Box2D tenga que hacer cálculos innecesarios. Aunque esto es bueno para el rendimiento,
						a veces puede causar problemas.</p>
					<p>Puedes despertar un sprite que duerme estableciendo <code>sprite.sleeping</code> en falso.
						También puedes desactivar el dormir en base a cada sprite estableciendo
						<code>sprite.allowSleeping</code> en falso.</p>
				</md>
			</div>
			<div class="minis horiz">
				<script type="mie/p5" id="sleeping" horiz="">
let ball, floor;

function setup() {
	new Canvas(80, 240);
	world.gravity.y = 10;
	ball = new Sprite(40, 30, 50);
	floor = new Sprite(40, 155, 80, 5, 's');
}

function draw() {
	clear();
	if (frameCount == 100)	floor.rotation = 10;
}
				</script>
				<script type="mie/p5" id="wake-up!" horiz="">
let ball, floor;

function setup() {
	new Canvas(80, 256);
	world.gravity.y = 10;
	ball = new Sprite(40, 30, 50);
	floor = new Sprite(40, 155, 80, 5, 's');
}

function draw() {
	clear();
	if (frameCount == 100)	{
		ball.sleeping = false;
		floor.rotation = 10;
	}
}
				</script>
			</div>
		</div>
		<div id="page-1" class="page">
			<div class="minis horiz">
				<md id="md1-0">
					<h2 id="controlando-el-tiempo">Controlando el Tiempo</h2>
					<p>La proporción de <code>world.timeScale</code> se establece por defecto en 1 para la simulación de
						física en tiempo real. ¡Establécelo más bajo para cámara lenta. Hazlo 0 para pausar el tiempo!
					</p>
					<p>Ten en cuenta que el solucionador del motor de física Box2D solo es estable hasta una escala de
						tiempo de 2. Si quieres avanzar la simulación por una cantidad mayor de tiempo, ejecuta la
						función <code>world.step</code> varias veces.</p>
					<p>Haz clic en el lienzo en el ejemplo para hacer que la simulación física avance en cámara lenta,
						1/4 del tiempo real. El efecto de tiempo bala de Matrix se logra haciendo el fondo de cada
						cuadro ligeramente transparente.</p>
					<p><code>world.realTime</code> almacena cuántos segundos de tiempo real han transcurrido desde el
						inicio del mundo, incluidas las pausas.</p>
					<p><code>world.physicsTime</code> almacena cuántos segundos han transcurrido en la simulación
						física.</p>
				</md>
			</div>
			<script type="mie/p5" id="Slow Motion">
let ball, box;
		
function setup() {
	new Canvas(500, 192);

	ball = new Sprite(250, 100, 20);
	ball.speed = 10;
	ball.direction = 45;
	ball.bounciness = 1;
	ball.friction = 0;
	ball.strokeWeight = 0;

	box = new Sprite(250, 96, 490, 180, 's');
	box.shape = 'chain';
}

function draw() {
	if (mouse.pressing()) {
		background(0, 0, 0, 30);
		world.timeScale = 0.25;
	} else {
		background(0);
		world.timeScale = 1;
	}
}
			</script>
		</div>
		<div id="page-2" class="page">
			<md id="md2-0">
				<h2 id="pruebas-de-rendimiento">Pruebas de Rendimiento</h2>
				<p>Establece <code>p5play.renderStats</code> en verdadero para mostrar el número de sprites dibujados,
					tasa de visualización y cálculos de FPS. Para resultados más completos, usa las herramientas de
					prueba de rendimiento de tu navegador web.</p>
				<p>FPS en este contexto se refiere a cuántos cuadros por segundo puede generar tu computadora, sin
					incluir el retraso entre cuando los cuadros se muestran realmente en la pantalla. Cuanto más alto
					sea el FPS, mejor está funcionando tu juego.</p>
				<p>Tener menos sprites y usar un lienzo más pequeño hará que tu juego funcione mejor. Para un mejor
					rendimiento, no uses la función <code>clear</code> de p5.js o muestrees los colores de los píxeles
					en tu lienzo usando <code>canvas.get</code>.</p>
				<p>Por defecto, el motor de física Box2D realiza 8 iteraciones de velocidad
					<code>world.velocityIterations</code> y 3 iteraciones de posición
					<code>world.positionIterations</code>. Disminuir estos valores hará que la simulación sea más rápida
					pero también menos precisa.</p>
				<p>He probado p5play en todos los navegadores web y encontré que Google Chrome tiene el mejor
					rendimiento.</p>
			</md>
			<script type="mie/p5" id="renderStats">
function setup() {
	new Canvas(500, 250);
	p5play.renderStats = true;

	for (let i = 0; i < 25; i++) {
		let x = 430 - i * 20;
		for (let j = 0; j < 20; j++) {
			new Sprite(x + j * 10, 5 + i * 10, 9, 9);
		}
	}
}

function draw() {
	background(20);

	world.velocityIterations = 8;
	world.positionIterations = 3;

	if (mouse.presses()) new Sprite(mouse.x, mouse.y, 25);
	if (mouse.pressing()) {
		allSprites.at(-1).moveTowards(mouse);
	}
}
			</script>
		</div>

		<div class="break"></div>
		<div id="toc">
			<a id="prevPage" class="navLink">Página anterior</a>
			<div id="pageNav" class="submenu">
				<a data-page="0" href="world.html?page=0">Durmiendo</a>
				<a data-page="1" href="world.html?page=1">Controlando el Tiempo</a>
				<a data-page="2" href="world.html?page=2">Pruebas de Rendimiento</a>
			</div>
			<a id="nextPage" class="navLink">Siguiente página</a>
		</div>
		<div class="break"></div>
		<footer id="credits" class="text-small">Creado por Quinton Ashley (@quinton-ashley) derechos de autor 2022-2024
		</footer>
	</article>

	<script src="/v3/q5.min.js"></script>
<script src="/v3/planck.min.js"></script>
<script src="/v3/p5play.min.js"></script>
<script>
window.mie = { autoLoad: false };

	</script>
	<script src="/learn/mie.js"></script>
<script src="/learn/learn.js"></script>
</body>

</html>
